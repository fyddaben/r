function initVertexBuffers(e){var t=new Float32Array([1,1,1,1,1,1,-1,1,1,1,0,1,-1,-1,1,1,0,0,1,-1,1,1,1,0,1,-1,-1,0,1,0,1,1,-1,0,1,1,-1,1,-1,0,0,1,-1,-1,-1,0,0,0]),r=new Uint8Array([0,1,2,0,2,3,0,3,4,0,4,5,0,5,6,0,6,1,1,6,7,1,7,2,7,4,3,7,3,2,4,7,6,4,6,5]),i=e.createBuffer();if(!i)return console.log("Failed to create the buffer object"),-1;e.bindBuffer(e.ARRAY_BUFFER,i),e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW);var n=e.getAttribLocation(e.program,"a_Position"),a=e.getAttribLocation(e.program,"a_Color"),o=t.BYTES_PER_ELEMENT;e.vertexAttribPointer(n,3,e.FLOAT,!1,6*o,0),e.enableVertexAttribArray(n),e.vertexAttribPointer(a,3,e.FLOAT,!1,6*o,3*o),e.enableVertexAttribArray(a);var l=e.createBuffer();return e.bindBuffer(e.ELEMENT_ARRAY_BUFFER,l),e.bufferData(e.ELEMENT_ARRAY_BUFFER,r,e.STATIC_DRAW),r.length}function main(){var e=document.getElementById("webgl"),t=getWebGLContext(e);if(!t)return void console.log("Failed to get the rendering context fo WebGl");var r=$("#vsh_tmpl").html(),i=$("#fsh_tmpl").html();if(!initShaders(t,r,i))return void console.log("Failed to initialize shaders");var n=initVertexBuffers(t);if(0>n)return console.log("Failed to create the buffer object"),-1;t.clearColor(0,0,0,1),t.enable(t.DEPTH_TEST);var a=t.getUniformLocation(t.program,"u_MvpMatrix"),o=new Matrix4,l=new Matrix4,f=(new Matrix4,new Matrix4);o.setLookAt(3,3,7,0,0,0,0,1,0),l.setPerspective(30,1,1,100),f.set(l).multiply(o),t.uniformMatrix4fv(a,!1,f.elements),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),t.drawElements(t.TRIANGLES,n,t.UNSIGNED_BYTE,0)}$(function(){main()});