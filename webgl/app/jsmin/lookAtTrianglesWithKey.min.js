function initVertexBuffers(e){var t=new Float32Array([0,.5,-.4,.4,1,.4,-.5,-.5,-.4,.4,1,.4,.5,-.5,-.4,1,.4,.4,.5,.4,-.2,1,.4,.4,-.5,.4,-.2,1,1,.4,0,-.6,-.2,1,1,.4,0,.5,0,.4,.4,1,-.5,-.5,0,.4,.4,1,.5,-.5,0,1,.4,.4]),r=9,o=e.createBuffer();if(!o)return console.log("Failed to create the buffer object"),-1;e.bindBuffer(e.ARRAY_BUFFER,o),e.bufferData(e.ARRAY_BUFFER,t,e.STATIC_DRAW);var n=e.getAttribLocation(e.program,"a_Position"),i=e.getAttribLocation(e.program,"a_Color"),a=t.BYTES_PER_ELEMENT;return e.vertexAttribPointer(n,3,e.FLOAT,!1,6*a,0),e.enableVertexAttribArray(n),e.vertexAttribPointer(i,3,e.FLOAT,!1,6*a,3*a),e.enableVertexAttribArray(i),r}function main(){var e=document.getElementById("webgl"),t=getWebGLContext(e);if(!t)return void console.log("Failed to get the rendering context fo WebGl");var r=$("#vsh_tmpl").html(),o=$("#fsh_tmpl").html();if(!initShaders(t,r,o))return void console.log("Failed to initialize shaders");var n=initVertexBuffers(t);if(0>n)return console.log("Failed to create the buffer object"),-1;t.clearColor(0,0,0,1);var i=t.getUniformLocation(t.program,"u_ViewMatrix"),a=new Matrix4,l=new Matrix4,f=t.getUniformLocation(t.program,"u_ProjMatrix");l.setOrtho(-1,1,-1,1,0,2),t.uniformMatrix4fv(f,!1,l.elements),document.onkeydown=function(e){39==e.keyCode?g_eyeX+=.01:g_eyeX-=.01,drawAngle(t,n,a,i)},drawAngle(t,n,a,i)}function drawAngle(e,t,r,o){r.setLookAt(g_eyeX,g_eyeY,g_eyeZ,0,0,0,0,1,0),e.uniformMatrix4fv(o,!1,r.elements),e.clear(e.COLOR_BUFFER_BIT),e.drawArrays(e.TRIANGLES,0,t)}var g_eyeX=.2,g_eyeY=.25,g_eyeZ=.25;$(function(){main()});